{"version":3,"sources":["views/Login/ForgotPassword.js"],"names":["ForgotPassword","state","email","alert","submit","_this","setState","error","loading","api","user","requestForgotPassword","then","checkEmail","catch","dismiss","onChange","name","value","_this$setState","Object","_Users_joaomoura_Repos_jti_global_portfolio_backoffice_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","renderStep","t","props","_this$state","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","components_elements_Message__WEBPACK_IMPORTED_MODULE_11__","icon","text","width","components_elements_Alert__WEBPACK_IMPORTED_MODULE_12__","onDismiss","info","title","components_forms_TextInput__WEBPACK_IMPORTED_MODULE_9__","type","label","components_elements_Button__WEBPACK_IMPORTED_MODULE_10__","iconPosition","onClick","this","marginTop","components_layoutold_Title__WEBPACK_IMPORTED_MODULE_8__","PureComponent","translate"],"mappings":"2NAWMA,6MACJC,MAAQ,CACNC,MAAQ,GACRC,OAAQ,KAGVC,OAAS,WAEP,IADkBC,EAAKJ,MAAfC,MAGN,OADAG,EAAKC,SAAS,CAAEC,OAAO,KAChB,EAETF,EAAKC,SAAS,CAAEE,SAAS,IACzBC,IAAIC,KAAKC,sBAAsBN,EAAKJ,MAAMC,OAAOU,KAC/C,kBAAMP,EAAKC,SAAS,CAClBE,SAAa,EACbK,YAAa,EACbN,OAAa,EACbJ,OAAa,MAEfW,MACA,kBAAMT,EAAKC,SAAS,CAClBE,SAAU,EACVD,OAAU,EACVJ,OAAU,SAKhBY,QAAU,WACRV,EAAKC,SAAS,CACZH,OAAO,OAIXa,SAAW,SAACC,EAAMC,GAAU,IAAAC,EAC1Bd,EAAKC,UAALa,EAAA,GAAAC,OAAAC,EAAA,EAAAD,CAAAD,EACGF,EAAQC,GADXE,OAAAC,EAAA,EAAAD,CAAAD,EAAA,SAEW,GAFXA,OAMFG,WAAa,WAAM,IAETC,EAAMlB,EAAKmB,MAAXD,EAFSE,EAG6BpB,EAAKJ,MAA3CE,EAHSsB,EAGTtB,MAAOK,EAHEiB,EAGFjB,QAASK,EAHPY,EAGOZ,WAAYN,EAHnBkB,EAGmBlB,MAEpC,OAAGC,EAECkB,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAASrB,SAAO,IAGZK,EAEJa,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAASC,KAAK,WAAWC,KAAMR,EAAE,wBAKjCG,EAAAC,EAAAC,cAAA,OAAKI,MAAO,KACT7B,GACCuB,EAAAC,EAAAC,cAACK,EAAA,EAAD,CACEC,UAAW7B,EAAKU,QAChBR,MAAOA,EACP4B,MAAO5B,EACP6B,MAAOb,EAAEhB,EAAQ,uBAAyB,sBAI9CmB,EAAAC,EAAAC,cAACS,EAAA,EAAD,CACEC,KAAK,OACLrB,KAAK,QACLsB,MAAOhB,EAAE,eACTP,SAAUX,EAAKW,WAGjBU,EAAAC,EAAAC,cAAA,WAEAF,EAAAC,EAAAC,cAACY,EAAA,EAAD,CACEV,KAAK,gBACLW,aAAa,QACbV,KAAMR,EAAE,yBACRmB,QAASrC,EAAKD,mFAQhB,IAEEmB,EAAMoB,KAAKnB,MAAXD,EAER,OAAOG,EAAAC,EAAAC,cAAA,OAAKI,MAAO,IAAKY,WAAS,GAE/BlB,EAAAC,EAAAC,cAACiB,EAAA,EAAD,CAAOd,KAAMR,EAAE,2BAEdoB,KAAKrB,qBAlGiBwB,iBAwGdC,sBACb/C","file":"static/js/11.a8a56610.chunk.js","sourcesContent":["import React, { PureComponent } from 'react'\nimport { translate } from 'react-multi-lang'\n\nimport Title from 'components/layoutold/Title'\nimport TextInput from 'components/forms/TextInput'\nimport Button from 'components/elements/Button'\nimport Message from 'components/elements/Message'\nimport Alert from 'components/elements/Alert'\n\nimport { api } from 'services'\n\nclass ForgotPassword extends PureComponent {\n  state = {\n    email : '',\n    alert : true,\n  }\n\n  submit = () => {\n    const { email } = this.state\n    if (!email) {\n      this.setState({ error: true })\n      return false\n    }\n    this.setState({ loading: true })\n    api.user.requestForgotPassword(this.state.email).then(\n      () => this.setState({\n        loading\t   : false,\n        checkEmail : true,\n        error      : false,\n        alert      : false,\n      })\n    ).catch(\n      () => this.setState({\n        loading\t: false,\n        error   : true,\n        alert   : true,\n      })\n    )\n  }\n\n  dismiss = () => {\n    this.setState({\n      alert: false,\n    })\n  }\n  \n  onChange = (name, value) => {\n    this.setState({\n      [name] : value,\n      error  : false,\n    })\n  }\n\n  renderStep = () => {\n\n    const { t } = this.props\n    const { alert, loading, checkEmail, error } = this.state\n\n    if(loading){\n      return (\n        <Message loading />\n      )\n    }\n    else if(checkEmail){\n      return (\n        <Message icon=\"envelope\" text={t('login.forgot.check')} />\n      )\n    }\n    else {\n      return (\n        <div width={500}>\n          {alert &&\n            <Alert\n              onDismiss={this.dismiss}\n              error={error} \n              info={!error} \n              title={t(error ? 'errors.invalid_email' : 'login.forgot.msg')} \n            />\n          }\n          \n          <TextInput \n            type=\"text\"\n            name=\"email\"\n            label={t('login.email')}\n            onChange={this.onChange}\n          />\n          \n          <br/>\n          \n          <Button  \n            icon=\"chevron-right\"\n            iconPosition=\"right\" \n            text={t('login.forgot.password')} \n            onClick={this.submit} \n          />\n        \n        </div>\n      )\n    }\n  }\n  \n  render(){\n\n    const { t } = this.props\n\n    return <div width={500} marginTop>\n\n      <Title text={t('login.forgot.password')} />\n\n      {this.renderStep()}\n\n    </div>\n  }\n}\n\nexport default translate(\n  ForgotPassword\n)\n"],"sourceRoot":""}