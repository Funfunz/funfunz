(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{81:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(1),s=r.n(o),c=r(26),l=r.n(c),i=r(27),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.a=function(e){var t=function(t){var r=t.wrappedComponentRef,n=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(t,["wrappedComponentRef"]);return a.a.createElement(i.a,{children:function(t){return a.a.createElement(e,u({},n,t,{ref:r}))}})};return t.displayName="withRouter("+(e.displayName||e.name)+")",t.WrappedComponent=e,t.propTypes={wrappedComponentRef:s.a.func},l()(t,e)}},86:function(e,t,r){"use strict";r.d(t,"a",function(){return i}),r.d(t,"b",function(){return l});var n=r(10),a=r(0),o=r.n(a),s=r(11),c=r.n(s),l=Object(a.memo)(function(e){var t=e.children,r=e.className,a=c()("columns",Object(n.a)({},r,r));return o.a.createElement("div",{className:a},t)}),i=Object(a.memo)(function(e){var t,r=e.children,a=e.align,s=e.className,l=c()("column",(t={},Object(n.a)(t,s,s),Object(n.a)(t,"has-text-"+a,a),t)),i={textAlign:a};return o.a.createElement("div",{style:i,className:l},r)})},98:function(e,t,r){"use strict";r.r(t);var n=r(14),a=r.n(n),o=r(21),s=r(10),c=r(4),l=r(5),i=r(18),u=r(17),m=r(19),p=r(0),d=r.n(p),f=r(13),g=r(81),v=r(82),w=r(28),h=r(84),b=r(85),E=r(83),y=r(86),O=r(15),j=function(e){function t(){var e,r;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),m=0;m<n;m++)l[m]=arguments[m];return(r=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={},r.componentDidMount=function(){var e=r.props.match.params,t=e.token,n=e.user;t?O.a.user.verifyForgotPassword(n,t).then(function(e){e.email?r.setState({verified:!0}):r.setState({error:!0})}).catch(function(){return r.setState({error:!0})}):r.setState({error:!0})},r.login=function(){r.props.history.push("/login")},r.retry=function(){window.location="/login/forgot"},r.onChange=function(e,t){r.setState(Object(s.a)({invalidPassword:!1},e,t))},r.submit=Object(o.a)(a.a.mark(function e(){var t,n,o,s,c,l;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=r.props.match.params,n=t.token,o=t.user,s=r.state,c=s.password1,l=s.password2,r._validatePasswords(c,l)?(r.setState({loading:!0}),O.a.user.useForgotPassword(o,n,c).then(function(){return r.setState({success:!0})}).catch(function(){return r.setState({error:!0})})):r.setState({invalidPassword:!0});case 3:case"end":return e.stop()}},e)})),r.renderStep=function(){var e=r.props.t,t=r.state,n=t.error,a=t.verified,o=t.success,s=t.loading;if(n)return d.a.createElement(d.a.Fragment,null,d.a.createElement(w.a,{error:!0,text:e("login.forgot.error")}),d.a.createElement("br",null),d.a.createElement(y.b,null,d.a.createElement(y.a,{align:"center"},d.a.createElement(h.a,{onClick:r.retry,text:e("errors.retry")}))));if(o)return d.a.createElement(y.b,null,d.a.createElement(y.a,{align:"center"},d.a.createElement(w.a,{success:!0,text:e("login.forgot.success")}),d.a.createElement("br",null),d.a.createElement(h.a,{icon:"chevron-right",iconPosition:"right",onClick:r.login,text:e("login.login")})));if(s)return d.a.createElement(w.a,{loading:!0,text:e("loading")});if(a){var c=r.state,l=c.password1,i=c.password2,u=c.invalidPassword;return d.a.createElement(d.a.Fragment,null,u&&d.a.createElement(b.a,{error:!0,title:e("errors.invalid_password"),onDismiss:r.dismiss}),d.a.createElement(y.b,null,d.a.createElement(y.a,null,d.a.createElement(E.a,{errors:!0,name:"password1",type:"password",label:e("login.password"),value:l,onChange:r.onChange}))),d.a.createElement(y.b,null,d.a.createElement(y.a,null,d.a.createElement(E.a,{errors:!0,name:"password2",type:"password",label:e("login.confirm"),value:i,onChange:r.onChange}))),d.a.createElement(y.b,null,d.a.createElement(y.a,null,d.a.createElement(h.a,{color:"success",text:e("login.forgot.submit"),onClick:r.submit}))))}return d.a.createElement(w.a,{loading:!0,text:e("login.forgot.verifying")})},r}return Object(m.a)(t,e),Object(l.a)(t,[{key:"_validatePasswords",value:function(e,t){return e&&e.length>=8&&e===t}},{key:"render",value:function(){var e=this.props.t;return d.a.createElement("div",null,d.a.createElement(v.a,{text:e("login.forgot.password")}),this.renderStep())}}]),t}(p.PureComponent);t.default=Object(g.a)(Object(f.c)(j))}}]);
//# sourceMappingURL=6.494baa36.chunk.js.map